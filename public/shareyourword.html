<!DOCTYPE html>
<html lang="en">

<head>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6308708380323883"
    crossorigin="anonymous"></script>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title> الكلمة أونلاين</title>

  <!--Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="https://arabicwordle.herokuapp.com">
  <meta name="twitter:creator" content="@rayed9o9">
  <meta name="twitter:title" content="اتحداك تحل كلمتي">
  <meta name="twitter:description" content="هل تقدر تحل كلمتي السرية؟">
  <meta name="twitter:image" content="https://arabicwordle.herokuapp.com/share.png">
    <!--Facebook-->
    <meta property="og:title" content='اتحداك تحل كلمتي' />
    <meta property="og:image" content='https://arabicwordle.herokuapp.com/share.png'/>
    <meta property="og:description" content='هل تقدر تحل كلمتي السرية؟' />
    <meta property="og:url" content='https://arabicwordle.herokuapp.com' />
    <meta property='og:image:width' content='1200' />
    <meta property='og:image:height' content='382' />
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />
</head>

<body>



  <div id="wrapper" class="center">
    <div id="header">
      <div class="absleft">

        <a href="shareyourword.html">
          <button id="hardmodebutton" class="smallbutton" alt="أكتب كلمتك الخاصة" title="أكتب كلمتك الخاصة">
            <p class="material-icons">share</p>
          </button>
        </a>
      </div>

      <div class="absright">
        <form action="https://twitter.com/rayed9o9" target="_blank" alt="hi?" title="hi?">
          <button class="smallbutton">
            <p class="material-icons">group_add</p>
          </button>
        </form>
        <a href="https://donate.stripe.com/test_28og1a9jugI1eFW5kk">
          <button class="smallbutton" alt="Do like the game?" title="Do like the game?">
            <p class="material-icons">handshake</p>
          </button>
        </a>
      </div>

      <h1>الكلمة أونلاين</h1>

    </div>

    <hr />
    <img src="/rcLoR78Xi.gif" alt="">

    <input type="text" name="" maxlength="5" id="tf_word" autocomplete="on" placeholder="لازم خمس حروف">
    <br>
    <button style="width:20%; background:#616161; border-radius:6px; margin:2vb; padding: 2vb;"
      onclick="generate_link()">اعطني الرابط</button>

    <script type="text/javascript" src="crypto-js/crypto-js.js"></script>
    <script>
      if (location.protocol !== 'https:') {
        location.replace(`https:${location.href.substring(location.protocol.length)}`);
      }

      let keyboard = "ضصثقفغعهخحجدشسيبلاتنمكطئءؤرىةوزظ";
      function generate_link() {
        let word = document.querySelector("#tf_word").value;

        if (word.length <= 4 || word.length > 5) {
          alert("الكلمة يجب ان تكون خمس حروف")
          return;
        }
        console.log(word.length);
        for (let i = 0; i < word.length; i++) {
          if (!keyboard.includes(word[i])) {
            alert("يسمح في خمس حروف عربية فقط بدون حركات أو علامات ترقيم");
            return;
          }

        }

        

        word = CryptoJS.AES.encrypt(word, "iknowUknow").toString()
        link = window.location.host;
        link = `https://${link}/index.html?${word}`;
        console.log(link);
        
        navigator.clipboard.writeText(link).then(() => {
          alert("تم نسخ الرابط يمكنك الان مشاركته");
      })
      .catch(() => {
        alert("something went wrong");
      });
        

      }
    </script>
</body>

</html>